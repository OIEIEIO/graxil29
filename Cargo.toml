# Project metadata - Package information and build configuration
[package]
name = "graxil29"                                            # ğŸ“¦ Package name for Grin mining
version = "0.4.2"                                           # ğŸ·ï¸ Updated version for nonce count and error fixes
edition = "2024"                                            # ğŸ¦€ Rust edition (latest features)
authors = ["Your Name <email@example.com>"]                 # ğŸ‘¥ Package authors
description = "Modern Rust Grin miner for Cuckaroo29 algorithm" # ğŸ“ Package description
license = "Apache-2.0"                                      # âš–ï¸ Open source license
repository = "https://github.com/yourusername/graxil29"     # ğŸ”— Source code repository
keywords = ["crypto", "grin", "mining", "cuckaroo29", "gpu"] # ğŸ·ï¸ Search keywords
rust-version = "1.85"                                       # ğŸ¦€ Minimum Rust version required

# Binary target - Main executable configuration
[[bin]]
name = "graxil29"                                            # ğŸ¯ Executable name
path = "src/main.rs"                                         # ğŸ“ Entry point file

[dependencies]
# Async runtime - Core async/await support
tokio = { version = "1", features = ["full"] }    # ğŸš€ Full async runtime with all features
futures = "0.3"                                   # ğŸ“¡ Future combinators and utilities

# Date/time - For timestamps
chrono = { version = "0.4", features = ["serde"] } # ğŸ•’ Date and time handling

# GPU compute - OpenCL backend (NEW: Real Cuckoo Cycle mining)
ocl = "0.19"                                       # ğŸ†• OpenCL bindings for GPU compute
hashbrown = "0.7"                                 # ğŸ†• Fast HashMap for cycle detection
blake2-rfc = "0.2"                                # ğŸ†• Blake2b for SipHash key generation
byteorder = "1"                                   # ğŸ†• Endian conversions for SipHash

# GPU compute - WGSL (LEGACY: Will be removed after OpenCL transition)
wgpu = { version = "0.20", features = ["wgsl"] }  # ğŸ”„ WebGPU with WGSL shader support
pollster = "0.3"                                  # ğŸ”„ Async executor for wgpu
bytemuck = { version = "1", features = ["derive"] } # ğŸ”„ Safe transmutation for GPU data

# Crypto & hashing - Core cryptographic functions
blake2 = "0.10"                                   # ğŸ” Blake2 hashing (general purpose)
siphasher = "1.0"                                 # ğŸ” SipHash implementation
rand = "0.8"                                      # ğŸ² Random number generation

# Networking & JSON - Pool communication
reqwest = { version = "0.11", features = ["json", "rustls-tls"], default-features = false } # ğŸŒ HTTP client with TLS
serde = { version = "1.0", features = ["derive"] } # ğŸ“ Serialization framework (added for JobTemplate)
serde_json = "1.0"                                # ğŸ“ JSON serialization
url = "2.5"                                       # ğŸ”— URL parsing and manipulation

# Config & CLI - User interface and configuration  
toml = "0.8"                                      # âš™ï¸ TOML configuration parsing
clap = { version = "4", features = ["derive"] }   # ğŸ–¥ï¸ Command line argument parsing

# Logging & metrics - Observability and debugging
tracing = "0.1"                                   # ğŸ“Š Structured logging framework
tracing-subscriber = { version = "0.3", features = ["env-filter"] } # ğŸ“Š Log output and filtering

# Error handling - Robust error management
thiserror = "1.0"                                 # âŒ Derive macro for custom errors
anyhow = "1.0"                                    # âŒ Flexible error handling

# Utilities - Helper functions and data structures
uuid = { version = "1", features = ["v4"] }       # ğŸ†” UUID generation for mining sessions
hex = "0.4"                                       # ğŸ”¢ Hexadecimal encoding/decoding
nvml-wrapper = "0.11.0"                           # ğŸ¯ NVIDIA GPU memory detection

[dev-dependencies]
# Testing and benchmarking - Development tools
criterion = { version = "0.5", features = ["html_reports"] } # ğŸ“ˆ Performance benchmarking with HTML reports
tokio-test = "0.4"                                           # ğŸ§ª Testing utilities for async code

# Benchmark configuration - Performance measurement
[[bench]]
name = "cuckaroo29"                                          # ğŸƒ Cuckaroo29 algorithm benchmarks
harness = false                                              # Use criterion instead of built-in harness

# Build profiles - Optimization settings
[profile.release]
opt-level = 3                                                # ğŸš€ Maximum optimization for production
lto = true                                                   # ğŸ”— Link-time optimization
codegen-units = 1                                            # ğŸ“¦ Single codegen unit for better optimization
panic = "abort"                                              # ğŸ’¥ Abort on panic (smaller binary)

[profile.bench]
opt-level = 3                                                # ğŸš€ Maximum optimization for benchmarks
debug = true                                                 # ğŸ› Keep debug symbols for profiling

[profile.dev]
opt-level = 1                                                # âš¡ Some optimization for faster development

# Feature flags - Conditional compilation
[features]
default = ["opencl"]                                         # ğŸ¯ Enable OpenCL backend by default
opencl = []                                                  # ğŸ†• Real Cuckoo Cycle mining with OpenCL
profile = []                                                 # ğŸ“Š Enable kernel profiling
wgsl-fallback = []                                           # ğŸ”„ Keep WGSL as fallback during transition